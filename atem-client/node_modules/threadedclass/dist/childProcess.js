"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const workerPlatformBase_1 = require("./workerPlatformBase");
const child_process_1 = require("child_process");
function forkChildProcess(pathToWorker) {
    return new ChildProcessWorker(pathToWorker);
}
exports.forkChildProcess = forkChildProcess;
class ChildProcessWorker extends workerPlatformBase_1.WorkerPlatformBase {
    constructor(path) {
        super();
        this.worker = child_process_1.fork(path);
        this.worker.on('message', (m) => this.emit('message', m));
        this.worker.on('close', () => this.emit('close'));
        this.worker.on('error', (e) => this.emit('error', e));
    }
    kill() {
        this.worker.kill();
    }
    send(m) {
        this.worker.send(m);
    }
}
exports.ChildProcessWorker = ChildProcessWorker;
//# sourceMappingURL=childProcess.js.map